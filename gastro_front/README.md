## The Front-End of Iel's Gastroscope Management System

### Log's of Migration

* 2017/12/27 move to AliCode from Gitblit (http://106.14.12.191:10101)

* 2017/12    Create it in yxnneâ€™s Mac of Iel

### Attentions

* **<big>Never</big>** to Commit the directory : 'node_modules' or files under it.

### Porject Running Introduction

* Make Sure that you have the Node.js Enveronment and npm or cnpm installed.

* Clone this repository to the local.

* Command in Terminal or cmd for install project's dependencies : $ npm install (cnpm install is better if it's availible)

* Command in Terminal or cmd for running : $ npm start (or cnpm start)

* More npm command config in '/package.json'

### Project Structure Introduction

* There are files and directories in the **'/'** directory : the **'node_modules'** is about the project using libaries,'node_modules' will be generated when you use command 'cnpm install' according to the 'package.json' file. So the **'package.json'** is the recorder to your project: it noted what your project's basic infos and the reference libaries infos. And anohter important file is **webpack.config.js**,cause this project is build by webpack,which is basic configurations of webpack how to build your project including the entry of your project , which compiler of JS(Babel) and CSS(or less),what is the bundled file and where it is,others configs like themes(**theme_config.less**) , etc.
<br/>

* **'/src'** is the crucial directory in which we put the source code and core resources.**'/src/index.html'** is the root html page in the propject and it referenced CSS files(**'/src/css'**) and '/src/bundle.js' which would have been generated after you build the project. '/src/bundle.js' is bundled file of .js files under **'/src/js/'** . **'/src/images/'** is the images resources.
<br/>

* Files under **'/src/js/'** is the core of all the code. **'/src/js/root.js'** is the Entry-File of this React App, it render the root html node and judging the device's screen to adapte either it's necessary to load mobile pages or pc browser's pages.**'/src/js/pc_index.js'** is the main page in pc and **'/src/js/mobile_index.js'** is the main page in mobile ,all of them have react-router and menu navigation.Pages file sets with bussiness are in **'/src/js/mobile_pages/'** and **'/src/js/pc_pages/'**.**'/src/js/components/'** are React Component may reuse in the project.
<br/>

### Other Remarks
#### How To Fetch Request To The Backend System
The JS file '/src/js/utils/fetch_request.js' encapsulated and exported the two commen method 'GET' / 'POST' ;<br/>
And Api url is in '/src/js/utils/urls.js'

* **Generated Url** : in the bussiness pages you can import the urls and use it:

```
  import {url_findDecontaminationRealTime as url} from '../utils/urls';

  // ...
  // the following line call url() will return the findDecontaminationRealTime's url in backend system
  url()
```
<br/>

* **GET Usage** : GET is easy , the get() will return a Promiss Object to make sure your handle Logic can be worte in the '.then()', and GET must write your params in URL ,so the url() method may not enough , _But this system we may never use GET to request_ ,see this :

```
  import {get} from '../utils/fetch_request';

  // ...
  get("https://api.github.com/users/yxnne").then((data)=>{
    console.log("this data is : ", data);
  });
```
<br/>

* **POST Usage** : POST need two params :first is the url string (it can generated by url()),the ohter is your params in request body, and also, the POST() will return a Promiss Object to make sure your handle Logic can be worte in the '.then()', following is that, **.catch()** _will let you can deal with the Errors when in your fetching process_:

```
  import {post} from '../utils/fetch_request';

  // ...
  // your params in request body should be a json:
  let jsonData = {
    "startTime":"1488349513",
    "endTime":"1515651913"
  };

  // post() need two params :first is the url string (it can generated by url()),the ohter is your params in request body
  post(url(), jsonData)
  .then((data)=>{
    console.log("this post request data is : ", data);
  })
  .catch(err=>{
    console.log("this err is  : ", err);
  });
```
<br/>
